<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Delivered Bookings</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

<style>
body{background:#f4f6f9;}
#sidebar{width:240px;min-height:100vh;background:#0b1e33;}
#sidebar .nav-link{color:#cfd8dc;padding:14px 20px;display:flex;gap:12px;border-radius:8px;}
#sidebar .nav-link:hover,#sidebar .active{background:#163a5f;color:white;}
.topbar{height:70px;background:white;box-shadow:0 2px 6px rgba(0,0,0,0.05);}
.card{border:none;border-radius:15px;}
.table th{background:#f1f5f9;}
.badge{padding:7px 12px;font-size:13px;border-radius:20px;}
.profile-dropdown{position:relative;cursor:pointer;margin-left:auto;}
.profile-dropdown-menu{
position:absolute;right:0;top:120%;background:white;
border-radius:14px;box-shadow:0 10px 30px rgba(0,0,0,0.18);
display:none;min-width:170px;overflow:hidden;z-index:100;
}
.profile-dropdown-menu a{
display:block;padding:12px 16px;color:#0b1e33;text-decoration:none;font-size:0.95rem;
}
.profile-dropdown-menu a:hover{background:#f1f5f9;}
</style>
</head>

<body>
<div class="d-flex">

<div id="sidebar" class="p-3">
<div class="text-center text-white mb-4 fw-bold fs-5">FuelIndeed</div>
<ul class="nav flex-column">
<li><a th:href="@{/station/dashboard}" class="nav-link"><i class="fas fa-home"></i>Dashboard</a></li>
<li><a th:href="@{/station/bookings/pending}" class="nav-link"><i class="fas fa-clock"></i>Pending</a></li>
<li><a th:href="@{/station/bookings/assigned}" class="nav-link"><i class="fas fa-check-circle"></i>Assigned</a></li>
<li><a th:href="@{/station/bookings/delivered}" class="nav-link active"><i class="fas fa-truck"></i>Delivered</a></li>
<li><a th:href="@{/station/bookings/rejected}" class="nav-link "><i class="fas fa-times-circle"></i>Rejected</a></li>
</ul>
</div>

<div class="flex-grow-1">

<div class="topbar d-flex align-items-center px-4">
<h5 class="fw-semibold mb-0">Delivered Bookings</h5>

<div class="profile-dropdown" onclick="toggleProfileMenu()">
<i class="fas fa-user-circle fs-3 text-secondary"></i>
<div class="profile-dropdown-menu" id="profileMenu">
<a th:href="@{/station/complete-profile}">
<i class="fas fa-user me-2"></i>My Profile
</a>
<a th:href="@{/station/logout}">
<i class="fas fa-sign-out-alt me-2"></i>Logout
</a>
</div>
</div>
</div>

<div class="container-fluid p-4">
<div class="card shadow-sm p-4">
<div class="table-responsive">
<table class="table align-middle">
<thead>
<tr>
<th>ID</th>
<th>User</th>
<th>Fuel Type</th>
<th>Quantity</th>
<th>Status</th>
</tr>
</thead>
<tbody>
<tr th:each="b : ${bookings}">
<td th:text="${b.id}"></td>
<td th:text="${b.user.name}"></td>
<td th:text="${b.fuelType}"></td>
<td th:text="${b.quantity} + ' L'"></td>
<td><span class="badge bg-success">Delivered</span></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

</div>
</div>

<script>
function toggleProfileMenu(){
let menu=document.getElementById("profileMenu");
menu.style.display=menu.style.display==="block"?"none":"block";
}
window.onclick=function(e){
if(!e.target.closest(".profile-dropdown")){
document.getElementById("profileMenu").style.display="none";
}
}
</script>

</body>
</html>